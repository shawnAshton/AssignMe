<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <link rel="stylesheet" type="text/css" href="assignMe.css">
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <title>Home Page</title>
   <script language="Javascript">
   function addTextBoxes() {
      
      //Create input types dynamically and insert in front of the button
      var newTextBoxName = document.createElement("input");
      var button = document.getElementById("button");

      //change the attributes of the input tag to make sure they are correct
      newTextBoxName.setAttribute("type", "text");
      newTextBoxName.setAttribute("name", "names[]");
      newTextBoxName.setAttribute("placeholder", "enter a name");
      newTextBoxName.setAttribute("required", "true");

      var divTag = document.getElementById("textbox");
      divTag.appendChild(newTextBoxName);
      divTag.insertBefore(document.createElement("BR"), newTextBoxName);
      divTag.insertBefore(document.createElement("BR"), newTextBoxName);
      // divTag.insertBefore(newTextBoxName, button);
      // divTag.insertBefore(newTextBoxJob, button);
      // divTag.insertBefore(document.createTextNode(" "), button);
      divTag.insertBefore(document.createTextNode(" "), newTextBoxName);
      if (compare())
      {
         createInputsForNames();
      }
   }

      function addTextBoxes2() {
      
      //Create input types dynamically and insert in front of the button
      var newTextBoxJob = document.createElement("input");
      var button = document.getElementById("button");

      //change the attributes of the input tag to make sure they are correct
      newTextBoxJob.setAttribute("type", "text");
      newTextBoxJob.setAttribute("name", "jobs[]");
      newTextBoxJob.setAttribute("placeholder", "enter a job");
      newTextBoxJob.setAttribute("required", "true");

      var divTag = document.getElementById("textbox2");
      divTag.appendChild(newTextBoxJob);
      divTag.insertBefore(document.createElement("BR"), newTextBoxJob);
      divTag.insertBefore(document.createElement("BR"), newTextBoxJob);

      // divTag.insertBefore(newTextBoxName, button);
      // divTag.insertBefore(newTextBoxJob, button);
      // divTag.insertBefore(document.createTextNode(" "), button);
      divTag.insertBefore(document.createTextNode(" "), newTextBoxJob);

      if (compare())
      {
         createInputsForNames();
      }
   }

      function addTextBoxes3() {
      
      //Create input types dynamically and insert in front of the button
      var newTextBoxJob = document.createElement("input");

      //change the attributes of the input tag to make sure they are correct
      newTextBoxJob.setAttribute("type", "text");
      newTextBoxJob.setAttribute("name", "capability[]");
      newTextBoxJob.setAttribute("placeholder", "enter amount of capability");
      newTextBoxJob.setAttribute("required", "true");

      var divTag = document.getElementById("textbox3");
      divTag.appendChild(newTextBoxJob);
      divTag.insertBefore(document.createElement("BR"), newTextBoxJob);
      divTag.insertBefore(document.createElement("BR"), newTextBoxJob);

      // divTag.insertBefore(newTextBoxName, button);
      // divTag.insertBefore(newTextBoxJob, button);
      // divTag.insertBefore(document.createTextNode(" "), button);
      divTag.insertBefore(document.createTextNode(" "), newTextBoxJob);
   }


      function createInputsForNames() 
      {
         var names = document.getElementsByName("names[]");
         var capability = document.getElementsByName("capability[]");
         for (var i = capability.length; i < names.length; i++)
         {
            addTextBoxes3();
         }
      }

      function compare() 
      {
         var names = document.getElementsByName("names[]");
         var jobs = document.getElementsByName("jobs[]");
         console.log('name length = '+ names.length);
         console.log('jobs length = '+ jobs.length);
         var capability = document.getElementsByName("capability[]");
         if (names.length < jobs.length)
         {
            capability.style("display", "inline-block");
            console.log("this!!!!!!!!!!!!!!!!!!!!! happening");
            return true;
         }
         else
         {
            console.log("this happening");
            capability.style("display", "none");
            return false;
         }
      }

   </script>
   <link rel="stylesheet" type="text/css" href="pretty.css">
</head>
<body>
   <form id = "nameForm" action="/createProject" method="POST">
      <h1>Creating a New Project</h1>
      <h2>Information:</h2>
      <p>Create a way to rotate jobs and people. For example if you are a college student, then you could rotate chores with your roomates.</p>
      <hr>
      <h3>Group name</h3>
      <input type="text" name="projectTitle"  placeholder="enter a title" required>
      <h3>Enter The number of times you want to rotate jobs</h3>
      <input type="text" name="totalMeetings"  placeholder="1-100" maxlength="3" required>

      <h3>Add People Names and Jobs to rotate through</h3>
      <div style="text-align: center;"><input type="submit" value="Create Project"></div>
      <div class="flex-container">
         <div id="textbox" class="specialDiv">
            <input type="button" id="button" value="Add Person and Job box" onclick="addTextBoxes()"/><br><br>
            <input type="text" name="names[]" id="input" placeholder="enter a name" required>
         </div>
         <div id="textbox3" class="specialDiv">
         </div>
         <div id="textbox2" class="specialDiv">
            <input type="button" id="button" value="Add Person and Job box" onclick="addTextBoxes2()"/><br><br>
            <input type="text" name="jobs[]"  placeholder="enter a job" required>
         </div>
      </div>
      <br>
   </form>

   <form action="/createUser" method="POST">
      <input type="text" name="username">
      <input type="text" name="password">
      <input type="submit" value="CREATE A NEW ACCOUNT">
   </form>

   <form action="/authenticate" method="POST">
      authenticate usr<input type="text" name="username">
      pass<input type="text" name="password">
      <input type="submit" value="authenticate">
   </form>

      <form action="/login" method="POST">
      login username<input type="text" name="username">
      password<input type="text" name="password">
      <input type="submit" value="login">
   </form>

   <br>
   UserName:<input type="text" name="username">
   Password:<input type="text" name="password">
   <input type="button" value="CREATE A NEW ACCOUNT" onclick="ajaxRequest()">
   <script type="text/javascript" src="client.js"></script>
   <div id = "5"></div>
</body>
</html>